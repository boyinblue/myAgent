---
title: "[우분투 22.04] 다음 서명들은 공개키가 없기 때문에 인증할 수 없습니다"
url: "https://worldclassproduct.tistory.com/entry/%EC%9A%B0%EB%B6%84%ED%88%AC-2204-%EB%8B%A4%EC%9D%8C-%EC%84%9C%EB%AA%85%EB%93%A4%EC%9D%80-%EA%B3%B5%EA%B0%9C%ED%82%A4%EA%B0%80-%EC%97%86%EA%B8%B0-%EB%95%8C%EB%AC%B8%EC%97%90-%EC%9D%B8%EC%A6%9D%ED%95%A0-%EC%88%98-%EC%97%86%EC%8A%B5%EB%8B%88%EB%8B%A4"
created_at: "Thu, 15 Sep 2022 01:41:14 +0900"
event_dates:
category: ""
tags:
comments: "<p><figure class="imageblock alignCenter"><span><img height="1036" src="https://blog.kakaocdn.net/dn/kDjpA/btrL84pcIJ4/wHBTSlA5beJwvpYhHgFMHK/img.jpg" width="1109" /></span></figure>
</p>
<p>&nbsp;</p>
<p>기존에 우분투 리눅스 20.04가 설치된 서버를 최근에 22.04로 업그레이드했습니다. OS 버전을 업그레이드한다는 것은 여러 가지 문제들을 유발할 수 있습니다. 필자의 경우는 20.04에서 22.04로 업그레이드를 수행한 이후에 십여 가지의 크고 작은 문제들이 발생했고, 구글링을 통해서 모두 해결할 수 있었습니다.&nbsp;</p>
<p>본 페이지에서는 우분투 리눅스를 22.04로 업그레이드한 이후에 패키지 업데이트 명령을 수행하면 "다음 서명들은 공개키가 없기 때문에 인증할 수 없습니다"라는 메시지가 나오는 문제를 해결하는 방법에 대해서 설명드리고자 합니다.&nbsp;</p>
<p>&nbsp;</p>
<h2>1. 문제의 상황에 대한 기술</h2>
<p>우분투 리눅스 22.04로 업그레이드한 이후에 패키지 업데이트를 수행했습니다.&nbsp;</p>
<pre class="bash" id="code_1663171130894"><code>$ sudo apt-get update</code></pre>
<p>위의 명령으로 패키지 업데이트를 수행하면 아래와 같이 "다음 서명들은 공개키가 없기 때문에 인증할 수 없습니다"라는 에러 메시지들이 확인됩니다.&nbsp;</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;">$&nbsp;sudo&nbsp;apt-get&nbsp;update<br />받기:2&nbsp;http://security.ubuntu.com/ubuntu&nbsp;jammy-security&nbsp;InRelease&nbsp;[110&nbsp;kB]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:3&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;jammy&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:4&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;xenial&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />받기:5&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;jammy-updates&nbsp;InRelease&nbsp;[114&nbsp;kB]&nbsp;&nbsp;&nbsp;&nbsp;<br />받기:6&nbsp;https://esm.ubuntu.com/infra/ubuntu&nbsp;jammy-infra-security&nbsp;InRelease&nbsp;[7,453&nbsp;B]<br />오류:4&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;xenial&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><span style="color: #ee2323;"><b>&nbsp;&nbsp;다음 서명들은 공개키가 없기 때문에 인증할 수 없습니다: NO_PUBKEY 40976EAF437D05B5 NO_PUBKEY 3B4FE6ACC0B21F32</b></span></td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2>2. apt-key 명령 사용 (deprecated)</h2>
<p>위와 같은 상황에서 기존 20.04에서는 "apt-key" 명령을 통해서 이를 해결할 수 있었습니다.</p>
<p>&nbsp;</p>
<h3>2-1. apt-key adv 명령으로 키 다운로드</h3>
<p>apt-key adv 명령으로 키를 추가하는 명령을 수행해봤습니다.&nbsp;</p>
<pre class="bash" id="code_1663171885972"><code>$ sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 40976EAF437D05B5</code></pre>
<p>기존의 20.04에서는 잘 동작하는 명령임에도 불구하고, 22.04에서는 아래와 같은 경고 메시지가 표시됩니다.&nbsp;</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;"><span style="color: #ee2323;"><b>Warning:&nbsp;apt-key&nbsp;is&nbsp;deprecated.&nbsp;Manage&nbsp;keyring&nbsp;files&nbsp;in&nbsp;trusted.gpg.d&nbsp;instead&nbsp;(see&nbsp;apt-key(8)).</b></span><br />Executing:&nbsp;/tmp/apt-key-gpghome.EN8vEwhHBR/gpg.1.sh&nbsp;--keyserver&nbsp;keyserver.ubuntu.com&nbsp;--recv-keys&nbsp;40976EAF437D05B5<br />gpg:&nbsp;key&nbsp;40976EAF437D05B5:&nbsp;public&nbsp;key&nbsp;"Ubuntu&nbsp;Archive&nbsp;Automatic&nbsp;Signing&nbsp;Key&nbsp;&lt;ftpmaster@ubuntu.com&gt;"&nbsp;imported<br />gpg:&nbsp;Total&nbsp;number&nbsp;processed:&nbsp;1<br />gpg:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;imported:&nbsp;1</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3>2-2. apt-key list 명령으로 키 확인</h3>
<p>기존 20.04에서 잘 동작하던 "apt-key list" 명령을 수행해봤습니다.&nbsp;</p>
<pre class="bash" id="code_1663172087242"><code>$ sudo apt-key list</code></pre>
<p>동일하게 apt-key 명령은 앞으로 지원되지 않을 것이라는 경고 메시지가 출력됩니다.&nbsp;</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;"><span style="color: #ee2323;"><b>Warning:&nbsp;apt-key&nbsp;is&nbsp;deprecated.&nbsp;Manage&nbsp;keyring&nbsp;files&nbsp;in&nbsp;trusted.gpg.d&nbsp;instead&nbsp;(see&nbsp;apt-key(8)).</b></span><br />/etc/apt/trusted.gpg<br />--------------------<br />pub&nbsp;&nbsp;&nbsp;rsa4096&nbsp;2015-07-14&nbsp;[SCEA]<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5811&nbsp;8E89&nbsp;F3A9&nbsp;1289&nbsp;7C07&nbsp;&nbsp;0ADB&nbsp;F762&nbsp;2157&nbsp;2C52&nbsp;609D<br />uid&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;unknown]&nbsp;Docker&nbsp;Release&nbsp;Tool&nbsp;(releasedocker)&nbsp;&lt;docker@docker.com&gt;</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<blockquote>"deprecated"의 의미는 추후에 더 이상 지원되지 않을 예정이라는 의미이기 때문에 지금은 사용 가능하지만, 나중에는 해당 명령이 삭제될 예정이라는 의미입니다. 따라서, 추후에 문제를 일으키기 전에 지금 수정하는 게 좋습니다.&nbsp;</blockquote>
<p>&nbsp;</p>
<h3>2-3. apt-get update 명령 수행</h3>
<p>apt-get update 명령을 수행해봤습니다.&nbsp;</p>
<pre class="bash" id="code_1663172752827"><code>$ sudo apt-get update</code></pre>
<p>아래와 같이 거슬리는 경고 메시지가 출력됩니다.&nbsp;</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;">(생략)<br />기존:12&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;jammy-backports&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />받기:13&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;xenial-backports&nbsp;InRelease&nbsp;[97.4&nbsp;kB]<br />내려받기&nbsp;303&nbsp;k바이트,&nbsp;소요시간&nbsp;5초&nbsp;(63.4&nbsp;k바이트/초)<br />패키지&nbsp;목록을&nbsp;읽는&nbsp;중입니다...&nbsp;완료<br /><span style="color: #ee2323;"><b>W:&nbsp;http://downloads.sourceforge.net/project/ubuntuzilla/mozilla/apt/dists/all/InRelease:&nbsp;Key&nbsp;is&nbsp;stored&nbsp;in&nbsp;legacy&nbsp;trusted.gpg&nbsp;keyring&nbsp;(/etc/apt/trusted.gpg),&nbsp;see&nbsp;the&nbsp;DEPRECATION&nbsp;section&nbsp;in&nbsp;apt-key(8)&nbsp;for&nbsp;details.</b></span><br /><span style="color: #ee2323;"><b>W:&nbsp;http://us.archive.ubuntu.com/ubuntu/dists/xenial/InRelease:&nbsp;Key&nbsp;is&nbsp;stored&nbsp;in&nbsp;legacy&nbsp;trusted.gpg&nbsp;keyring&nbsp;(/etc/apt/trusted.gpg),&nbsp;see&nbsp;the&nbsp;DEPRECATION&nbsp;section&nbsp;in&nbsp;apt-key(8)&nbsp;for&nbsp;details.</b></span><br /><span style="color: #ee2323;"><b>W:&nbsp;http://security.ubuntu.com/ubuntu/dists/xenial-security/InRelease:&nbsp;Key&nbsp;is&nbsp;stored&nbsp;in&nbsp;legacy&nbsp;trusted.gpg&nbsp;keyring&nbsp;(/etc/apt/trusted.gpg),&nbsp;see&nbsp;the&nbsp;DEPRECATION&nbsp;section&nbsp;in&nbsp;apt-key(8)&nbsp;for&nbsp;details.</b></span><br /><span style="color: #ee2323;"><b>W:&nbsp;http://us.archive.ubuntu.com/ubuntu/dists/xenial-updates/InRelease:&nbsp;Key&nbsp;is&nbsp;stored&nbsp;in&nbsp;legacy&nbsp;trusted.gpg&nbsp;keyring&nbsp;(/etc/apt/trusted.gpg),&nbsp;see&nbsp;the&nbsp;DEPRECATION&nbsp;section&nbsp;in&nbsp;apt-key(8)&nbsp;for&nbsp;details.</b></span><br /><span style="color: #ee2323;"><b>W:&nbsp;http://us.archive.ubuntu.com/ubuntu/dists/xenial-backports/InRelease:&nbsp;Key&nbsp;is&nbsp;stored&nbsp;in&nbsp;legacy&nbsp;trusted.gpg&nbsp;keyring&nbsp;(/etc/apt/trusted.gpg),&nbsp;see&nbsp;the&nbsp;DEPRECATION&nbsp;section&nbsp;in&nbsp;apt-key(8)&nbsp;for&nbsp;details.</b></span></td>
</tr>
</tbody>
</table>
<p>메시지를 잘 살펴보면 trusted.gpg에 키가 저장되어 있다는 의미입니다. 해당 위치에 저장되는 것은 레거시(과거로부터 물려 내려온 것)라고 설명되어 있습니다.&nbsp;</p>
<p>&nbsp;</p>
<h2>3. 키 저장소 이동</h2>
<p>이를 해결하기 위해서는 /etc/apt/trusted.gpg 파일을 /etc/apt/trusted.gpg.d 디렉토리로 복사해주면 깔끔하게 해결이 됩니다.&nbsp;</p>
<pre class="bash" id="code_1663173505010"><code>$ cd /etc/apt
$ sudo cp trusted.gpg trusted.gpg.d/</code></pre>
<p>위와 같이 /etc/apt/trusted.gpg 파일을 /etc/apt/trusted.gpg.d 디렉토리로 복사해준 이후에 apt-get update 명령을 수행해보면 경고 메시지가 모두 사라진 것을 확인할 수 있습니다.&nbsp;</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;">기존:1&nbsp;http://udomain.dl.sourceforge.net/project/ubuntuzilla/mozilla/apt&nbsp;all&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:2&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;jammy&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:3&nbsp;http://security.ubuntu.com/ubuntu&nbsp;jammy-security&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:4&nbsp;http://security.ubuntu.com/ubuntu&nbsp;xenial-security&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:5&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;xenial&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:6&nbsp;https://esm.ubuntu.com/infra/ubuntu&nbsp;jammy-infra-security&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:7&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;jammy-updates&nbsp;InRelease<br />기존:8&nbsp;https://esm.ubuntu.com/infra/ubuntu&nbsp;jammy-infra-updates&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:9&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;xenial-updates&nbsp;InRelease&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />기존:10&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;jammy-backports&nbsp;InRelease<br />기존:11&nbsp;http://us.archive.ubuntu.com/ubuntu&nbsp;xenial-backports&nbsp;InRelease<br />패키지&nbsp;목록을&nbsp;읽는&nbsp;중입니다...&nbsp;완료&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>4. 관련 링크</h2>
<p>본 페이지를 작성하는데 도움이 되었던 자료들의 출처입니다.&nbsp;</p>
<h3>▶ deprecated의 의미</h3>
<p>지금까지 "deprecated"의 의미를 유추해서 대략적으로 알고 있었는데, 아래의 페이지에서 "deprecated"의 정확한 의미를 알게 되었습니다.&nbsp;</p>
<figure contenteditable="false" id="og_1663172907967"><a href="http://egloos.zum.com/nemonein/v/5320574" rel="noopener">
<div class="og-image">&nbsp;</div>
<div class="og-text">
<p class="og-title">Deprecated: 정확한 뜻을 이제야 알게되다.</p>
<p class="og-desc">Deprecated 라는 표현을 알게 된 건 비교적 최근이다.그저 막연히, '더 이상 사용되지 않는다' 는 정도로만 알고 있었는데, 오늘 사전에서 이 단어를 찾아보고, 정확한 뜻을 알게 되었다.Deprecate 의</p>
<p class="og-host">egloos.zum.com</p>
</div>
</a></figure>
<p>&nbsp;</p>
<h3>▶ legacy의 의미</h3>
<figure contenteditable="false" id="og_1663173246263"><a href="https://arabiannight.tistory.com/129" rel="noopener">
<div class="og-image">&nbsp;</div>
<div class="og-text">
<p class="og-title">IT/용어 레거시(legacy) 란?</p>
<p class="og-desc">IT/용어 레거시(legacy)&nbsp;란? legacy ; 레거시 란? 정보기술에서 , 레거시 프로그램과 데이터는 프로그래밍 언어, 플랫폼 그리고 기술 등에 있어, 과거로 부터 물려 내려온 것들을 의미한다. 컴퓨터를</p>
<p class="og-host">arabiannight.tistory.com</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>이상입니다.&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>"
keywords:
crawler_version: "2.2"
images:
---

# [우분투 22.04] 다음 서명들은 공개키가 없기 때문에 인증할 수 없습니다

(본문 없음)