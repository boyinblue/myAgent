---
title: "[우분투 22.04] 호스트 주소를 해석할 수 없습니다. 오류 조치 방법"
url: "https://worldclassproduct.tistory.com/entry/%EC%9A%B0%EB%B6%84%ED%88%AC-2204-%ED%98%B8%EC%8A%A4%ED%8A%B8-%EC%A3%BC%EC%86%8C%EB%A5%BC-%ED%95%B4%EC%84%9D%ED%95%A0-%EC%88%98-%EC%97%86%EC%8A%B5%EB%8B%88%EB%8B%A4-%EC%98%A4%EB%A5%98-%EC%A1%B0%EC%B9%98-%EB%B0%A9%EB%B2%95"
created_at: "Thu, 8 Sep 2022 13:27:48 +0900"
event_dates:
category: ""
tags:
comments: "<p><figure class="imageblock alignCenter"><span><img height="1036" src="https://blog.kakaocdn.net/dn/cQv8vk/btrLF4hZ2jw/WK3PDSkT7b93a6vrXtjK70/img.jpg" width="1109" /></span></figure>
</p>
<p>&nbsp;</p>
<p>우분투 리눅스를 20.04에서 22.04로 업그레이드 한 이후로 여러 가지 문제가 발생했습니다. proftpd 업데이트 안 되는 문제도 있었고, 한글 입력이 안 되는 문제고 있었고, firefox가 snap package라서 이 점도 제법 불편한 것 같습니다.</p>
<p>본 페이지에서는 우분투 22.04에서 "호스트 주소를 해석할 수 없습니다."라는 에러 메시지가 발생할 때 이 문제를 해결하는 방법에 대해서 설명드리고자 합니다.</p>
<p>&nbsp;</p>
<h2>1. 문제의 증상</h2>
<p>우분투 리눅스 20.04에서 22.04로 업그레이드한 이후로 인터넷 접속이 제대로 되지 않았습니다. wget 같은 명령을 통해서 인터넷에서 파일을 다운로드하려고 해 봤더니, <span style="color: #ee2323;"><b>"호스트 주소를 해석할 수 없습니다."</b></span>라는 메시지가 나오면서 파일이 다운로드 되지 않았습니다.</p>
<p>&nbsp;</p>
<h2>2. 문제의 원인 분석</h2>
<p>이 문제는 도메인 네임을 IP주소로 변환할 수 없어서 발생하는 문제입니다. /etc/resolv.conf 파일의 내용을 살펴봐야 합니다.</p>
<pre class="bash" id="code_1662606596876"><code>$ cat /etc/resolv.conf</code></pre>
<p>위의 명령을 통해서 /etc/resolv.conf 파일을 살펴보니 DNS 설정이 올바르지 않다는 것을 알 수 있었습니다.</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;"># Dynamic resolv.conf(5) file for glibc resolver(3) generted by resolvconf(8)<br /># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN<br /># 127.0.0.53 is the system-resolved stub resolver.<br /># run "systemd-resolve --status" to see details about the actual nameservers.<br /><br />naeserver 127.0.0.53<br />sarch DOMAINS</td>
</tr>
</tbody>
</table>
<p>네임 서버 설정이 올바르지 않다는 것을 알 수 있습니다.</p>
<p>&nbsp;</p>
<h2>3. 임시 조치 방법</h2>
<p>임시로 조치할 수 있는 방법은 /etc/resolv.conf 파일을 열어서 nameserver를 추가하는 방법입니다.&nbsp;</p>
<pre class="bash" id="code_1662606951547"><code>$ sudo vi /etc/resolv.conf</code></pre>
<p>선호하는 편집기로 열고, DNS1과 DN2를 nameserver로 추가해주면 됩니다.</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;"># Dynamic resolv.conf(5) file for glibc resolver(3) generted by resolvconf(8)<br /># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN<br /># 127.0.0.53 is the system-resolved stub resolver.<br /># run "systemd-resolve --status" to see details about the actual nameservers.<br /><br />nameserver 127.0.0.53<br /><span style="color: #006dd7;"><b>nameserver aaa.bbb.ccc.ddd</b></span><br /><span style="color: #006dd7;"><b>nameserver eee.fff.ggg.hhh</b></span><br />sarch DOMAINS</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>위와 같이 입력하면 해당 문제가 해결됩니다. 하지만 이 방법은 임시 조치 방법에 불과합니다.</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;"># Dynamic resolv.conf(5) file for glibc resolver(3) generted by resolvconf(8)<br /><b># DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</b><br /># 127.0.0.53 is the system-resolved stub resolver.<br /># run "systemd-resolve --status" to see details about the actual nameservers.<br /><br />nameserver 127.0.0.53<br /><b>nameserver aaa.bbb.ccc.ddd</b><br /><b>nameserver eee.fff.ggg.hhh</b><br />sarch DOMAINS</td>
</tr>
</tbody>
</table>
<p>설정 파일의 2번째 줄에 있는 주석을 보시면 아시겠지만, 이 설정 파일을 편집하기 말라고 되어 있습니다. 재부팅하면 수정한 내용이 모두 초기화되어 버립니다.</p>
<p>&nbsp;</p>
<h2>4. 영구 조치 방법</h2>
<p>이 문제가 발생하는 원인은 새롭게 업그레이드한 버전은 22.04인데, /etc/resolve.conf 파일의 설정은 20.04 또는 그 이전의 버전이기 때문입니다.</p>
<p>아래의 명령을 수행해서 /etc/resolv.conf 파일을 살펴보면, symbolic link로 되어 있다는 것을 알 수 있습니다.</p>
<pre class="bash" id="code_1662607224196"><code>$ ls -all /etc/resolv.conf</code></pre>
<p>/etc/resolv.conf 파일이 /run/resolvconf/resolv.con 파일을 심볼릭 링크로 가리키고 있다는 것을 알 수 있습니다.</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;">xrwxrwxrwx 1 root root 29 11월 21 2018 <span style="color: #006dd7;">/etc/resolv.conf</span> -&gt; ../run/resolvconf/resolv.conf</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>하지만 22.04에서는 /run/systemd/resolv/stub-resolv.conf 파일을 symbolic link 걸어줘야 합니다.</p>
<pre class="bash" id="code_1662608877697"><code>$ sudo rm /etc/resolv.conf
$ sudo ln -s ../run/systemd/resolve/resolv.conf /etc/resolv.conf</code></pre>
<p>기존의 링크인 /etc/resolv.conf 파일은 제거하고, /run/systemd/resolv/resolv.conf 파일로 다시 심볼릭 링크를 생성해줍니다.</p>
<p>&nbsp;</p>
<p>cat 명령으로 /etc/resolv.conf 파일을 확인해봅니다.</p>
<pre class="bash" id="code_1662610504937"><code>$ cat /etc/resolv.conf</code></pre>
<p>&nbsp;</p>
<p>아래와 같이 /etc/resolv.conf 파일의 내용이 바뀐 것을 알 수 있습니다.</p>
<table border="1" style="border-collapse: collapse; width: 100%;">
<tbody>
<tr>
<td style="width: 100%;"># This is /run/systemd/resolv/resolv.conf managed by man:systemd-resolved(8).<br /># Do not edit.<br />#<br /># This file might be symlinked as /etc/resolv.conf. If you're looking at <br /># /etc/resolv.conf and seeing this text, you have followed the symlink.<br />#<br /># This is a dynamic resolv.conf file for connecting local clients diectly to<br /># all known uplink DNS servers. This file lists all configured search domains.<br />#<br /># Third party programs should typically not access this file directly, but only<br /># through the symlink at /etc/resolv.conf. To manage man:resolv.conf(5) in a<br /># different way, replace this symlink by a static file or a differen symlink.<br />#<br /># See man:systemd-resolved.service(8) for details about the supported mode of<br /># operation fo /etc/resolv.conf<br /><br /><span style="color: #006dd7;"><b>nameserver aaa.bbb.ddd.eee</b></span><br /><span style="color: #006dd7;"><b>nameserver fff.ggg.hhh.iii</b></span><br />search DOMAINS</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2>결론</h2>
<p>만약 우분투 22.04 이전 버전에서 22.04 버전으로 업그레이드 이후에 "호스트 주소를 해석할 수 없습니다."라는 에러가 발생한다면, /etc/resolv.conf 파일을 삭제하고 /run/systemd/resolve/resolv.conf 파일로 새로운 심볼릭 링크를 생성하시기 바랍니다.</p>
<p>&nbsp;</p>
<h2>참고할만한 글들</h2>
<figure contenteditable="false" id="og_1662610979448"><a href="https://worldclassproduct.tistory.com/entry/Could-not-resolve-host-githubcom-%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95" rel="noopener">
<div class="og-image">&nbsp;</div>
<div class="og-text">
<p class="og-title">Could not resolve host: github.com 해결 방법</p>
<p class="og-desc">티스토리 블로그를 개설한지 얼마되지 않았는데 이상하게 블로그가 통째로 다음에서 검색이 안되기 시작했습니다. 구글 애드센스를 달기 위해서 나름 열심히 노력하고 있는데 특정 글이 아닌</p>
<p class="og-host">worldclassproduct.tistory.com</p>
</div>
</a></figure>
<p>&nbsp;</p>
<p>이상입니다.</p>"
keywords:
crawler_version: "2.2"
images:
---

# [우분투 22.04] 호스트 주소를 해석할 수 없습니다. 오류 조치 방법

(본문 없음)