# 추가 기능 설명

## 카테고리 내 링크 수집 (`--follow-internal`, 네이버)

크롤한 포스트의 본문을 열어보고, 그 안에 코시되는 **같은 블로그 내** 다른 포스트 링크를 자동으로 찾아 수집 대상에 추가합니다.

**용도:**
- 리스트 페이지나 RSS의 한계를 넘어 카테고리 내 연결된 글들을 발견
- 서로 링크한 글들끼리 네트워크 형태로 수집 가능

**주의:**
- 각 포스트 본문을 열기 위해 추가 HTTP 요청 발생
- 요청 간격을 충분히 설정하세요 (기본값: 1초)

**예시:**
```bash
python main.py --full --follow-internal --max-posts 200
```
이렇게 하면:
1. RSS에서 50개 기본 로드
2. `--full`로 리스트 페이지 순회 (추가 몇십~몇백 개)
3. `--follow-internal`로 각 포스트 본문에서 내부 링크 수집 (더 추가)

---

## 사이트맵으로 전체 링크 수집 (`--use-sitemap`, 티스토리)

티스토리 블로그의 `sitemap.xml`을 다운로드하여 색인된 **모든 포스트 URL**을 한 번에 가져옵니다.

**특징:**
- 한 번의 HTTP 요청으로 모든 링크 취득
- RSS의 한계(50개)를 완전히 우회 가능
- 저속 처리 필요 없음 (사이트맵은 1회만 요청)

**위치:**
- `https://{blog}.tistory.com/sitemap.xml`

**예시:**
```bash
python main.py --use-sitemap --fetch-content
```

**결과:**
- 사이트맵에 색인된 모든 포스트 URL 수집
- 필요시 `--fetch-content`로 본문도 함께 저장

---

## 조합 활용

| 목표 | 명령어 | 설명 |
|------|--------|------|
| 네이버 최대한 많이 | `--full --follow-internal` | 리스트 페이지 + 내부 링크 |
| 네이버 빠르게 테스트 | `--max-posts 50` | 기본 RSS만 (500개 HTTP 요청 절약) |
| 티스토리 전체 | `--use-sitemap --fetch-content` | 사이트맵으로 모두 수집 및 저장 |
| 둘 다 최대한 | `--full --follow-internal --use-sitemap` | (순차적으로 처리) |

---

## 성능 팁

1. **테스트할 때** → `--max-posts 10~50` 먼저 시도
2. **본격 수집** → 요청 간격을 `config.json`에서 2~3초로 설정
3. **하드웨어 약할 때** → `--no-archive` + 나중에 수동 처리
4. **수백 건 이상 포스트** → 여러 번 나눠서 수집
